{{define "approval.html"}}
{{ template "header.html" . }}
<main class="min-h-screen flex items-center justify-center p-4" style="height:100vh;overflow:auto;">
  <section class="pixel-box max-w-lg w-full p-6">
    <header class="text-center mb-6">
      <h1 class="pixel-text text-2xl font-bold mb-2 text-pixel-text">GRANT ACCESS</h1>
      <p class="text-pixel-text-muted">Authorize the client to access the requested scopes</p>
    </header>

    {{ if .Scopes }}
    <div class="pixel-box-filled p-4 mb-6">
      <div class="text-pixel-text-muted mb-3">The client <strong class="text-pixel-accent">{{ .Client }}</strong> is requesting:</div>
      <ul class="text-pixel-text list-disc ml-6">
        {{ range $scope := .Scopes }}
        <li>{{ $scope }}</li>
        {{ end }}
      </ul>
    </div>
    {{ else }}
    <div class="pixel-box-filled p-4 mb-6 text-pixel-text">
      <div>{{ .Client }} has not requested any personal information</div>
    </div>
    {{ end }}

    <div class="flex flex-col sm:flex-row gap-4">
      <form method="post" class="flex-1" style="min-width:0;">
        <input type="hidden" name="req" value="{{ .AuthReqID }}"/>
        <input type="hidden" name="approval" value="approve"/>
        <button type="submit" class="pixel-button pixel-button-primary w-full">
          <span class="pixel-text">Grant Access</span>
        </button>
      </form>

      <form method="post" class="flex-1" style="min-width:0;">
        <input type="hidden" name="req" value="{{ .AuthReqID }}"/>
        <input type="hidden" name="approval" value="rejected"/>
        <button type="submit" class="pixel-button pixel-button-ghost w-full">
          <span class="pixel-text">Cancel</span>
        </button>
      </form>
    </div>
  </section>
</main>

{{ template "footer.html" . }}
{{end}}


